# 第3回コンテナ勉強会

## AKSのセキュリティについて

### 認証認可

- 各リソース別にセキュリティを担保する必要がある。
- OSのアップデート
  - 毎晩最新のものが自動的に適応される。
  - 再起動は自動的に行われないため手動で行う必要がある。
- Kubernetesのアップグレード

    ``` bash
    az aks upgrade
    ```

    でアップデートが可能。
  - ローリングアップグレードされる。
- コンテナから実行できるアクションを制限をマニフェストファイルの設定や、セキュリティモジュールの導入で行うことが出来る。
- Linuxノードは自動的に行われる。
- WindowsノードはAKSから提供される最新イメージを用いて手動でアップグレードする必要がある。
- AzureADとKubernetesRBACを統合することでKubernetesでのユーザ認証をAzureADで行うことが出来る。
- AzureRBACはAzureポータルでの操作やazコマンドの使用を制限できる。
  - Kubernetesリソースに対してのアクセス制御は行えない。

### アクセス制御

- IPアドレスで制御可能
  - DevOpsを構成する場合はDevOpsからkubectlを内部で叩くことになるのではじかれる可能性あり。
- ネットワークポリシーに設定したものからNSG規則が自動で作成っされる。
- ACRでのファイヤウォール設定
  - ACRのネットワーク設定で設定する。

### データ保護

- システムの分離
  - 論理的な分離は名前空間で分離する。
  - 物理的な分離は異なるクラスタ、または異なるサブスクリプションで分離する。

-

## AKSの監視について

## AKSの可用性について
